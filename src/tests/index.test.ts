// eslint-disable-next-line unicorn/prefer-node-protocol
import { Buffer } from 'buffer'
import { describe, expect, it } from 'vitest'
import parseFujifilmMakerNote from '..'

describe('parse', () => {
  it('case 1', () => {
    const makerNote = Buffer.from([70, 85, 74, 73, 70, 73, 76, 77, 12, 0, 0, 0, 75, 0, 0, 0, 7, 0, 4, 0, 0, 0, 48, 49, 51, 48, 16, 0, 2, 0, 48, 0, 0, 0, 150, 3, 0, 0, 32, 0, 2, 0, 6, 0, 0, 0, 198, 3, 0, 0, 0, 16, 2, 0, 8, 0, 0, 0, 204, 3, 0, 0, 1, 16, 3, 0, 1, 0, 0, 0, 3, 0, 0, 0, 2, 16, 3, 0, 1, 0, 0, 0, 240, 15, 0, 0, 3, 16, 3, 0, 1, 0, 0, 0, 128, 0, 0, 0, 4, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 16, 3, 0, 1, 0, 0, 0, 124, 21, 0, 0, 10, 16, 9, 0, 2, 0, 0, 0, 212, 3, 0, 0, 11, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 14, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 15, 16, 9, 0, 1, 0, 0, 0, 0, 0, 0, 0, 16, 16, 3, 0, 1, 0, 0, 0, 64, 152, 0, 0, 17, 16, 10, 0, 1, 0, 0, 0, 220, 3, 0, 0, 33, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 34, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 35, 16, 3, 0, 2, 0, 0, 0, 200, 8, 15, 10, 37, 16, 4, 0, 1, 0, 0, 0, 9, 0, 22, 0, 38, 16, 3, 0, 1, 0, 0, 0, 64, 0, 0, 0, 43, 16, 3, 0, 1, 0, 0, 0, 17, 0, 0, 0, 44, 16, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 45, 16, 4, 0, 1, 0, 0, 0, 1, 1, 99, 0, 46, 16, 4, 0, 1, 0, 0, 0, 2, 1, 0, 0, 48, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 49, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 50, 16, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 64, 16, 9, 0, 1, 0, 0, 0, 16, 0, 0, 0, 65, 16, 9, 0, 1, 0, 0, 0, 16, 0, 0, 0, 69, 16, 4, 0, 1, 0, 0, 0, 1, 0, 0, 0, 70, 16, 4, 0, 1, 0, 0, 0, 1, 0, 0, 0, 71, 16, 9, 0, 1, 0, 0, 0, 0, 0, 0, 0, 72, 16, 9, 0, 1, 0, 0, 0, 0, 0, 0, 0, 74, 16, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 76, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 77, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 78, 16, 9, 0, 1, 0, 0, 0, 64, 0, 0, 0, 80, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 17, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 17, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 3, 17, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 18, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 2, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 3, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 4, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 20, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 3, 0, 1, 0, 0, 0, 0, 6, 0, 0, 2, 20, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 3, 20, 3, 0, 1, 0, 0, 0, 144, 1, 0, 0, 4, 20, 5, 0, 1, 0, 0, 0, 228, 3, 0, 0, 5, 20, 5, 0, 1, 0, 0, 0, 236, 3, 0, 0, 6, 20, 5, 0, 1, 0, 0, 0, 244, 3, 0, 0, 7, 20, 5, 0, 1, 0, 0, 0, 252, 3, 0, 0, 8, 20, 7, 0, 4, 0, 0, 0, 48, 52, 48, 48, 9, 20, 7, 0, 4, 0, 0, 0, 48, 49, 48, 48, 10, 20, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 34, 20, 3, 0, 3, 0, 0, 0, 4, 4, 0, 0, 48, 20, 7, 0, 129, 0, 0, 0, 10, 4, 0, 0, 54, 20, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 56, 20, 3, 0, 1, 0, 0, 0, 146, 78, 0, 0, 57, 20, 2, 0, 48, 0, 0, 0, 140, 4, 0, 0, 66, 20, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 70, 20, 4, 0, 1, 0, 0, 0, 2, 0, 0, 0, 71, 20, 2, 0, 32, 0, 0, 0, 188, 4, 0, 0, 72, 20, 2, 0, 32, 0, 0, 0, 220, 4, 0, 0, 73, 20, 4, 0, 1, 0, 0, 0, 100, 0, 1, 2, 74, 20, 3, 0, 1, 0, 0, 0, 12, 2, 0, 0, 75, 20, 3, 0, 1, 0, 0, 0, 46, 1, 0, 0, 76, 20, 3, 0, 1, 0, 0, 0, 56, 2, 0, 0, 77, 20, 10, 0, 1, 0, 0, 0, 252, 4, 0, 0, 0, 65, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 66, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 70, 48, 50, 66, 55, 52, 57, 55, 54, 57, 54, 32, 32, 32, 32, 32, 53, 57, 51, 53, 51, 54, 51, 56, 51, 56, 51, 49, 50, 51, 48, 55, 49, 56, 48, 50, 57, 51, 49, 48, 49, 49, 68, 52, 49, 48, 0, 49, 54, 52, 57, 48, 0, 70, 73, 78, 69, 32, 32, 32, 0, 196, 255, 255, 255, 60, 0, 0, 0, 0, 0, 0, 0, 100, 0, 0, 0, 228, 12, 0, 0, 100, 0, 0, 0, 228, 12, 0, 0, 100, 0, 0, 0, 140, 0, 0, 0, 100, 0, 0, 0, 140, 0, 0, 0, 100, 0, 0, 0, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 88, 45, 84, 53, 95, 48, 50, 48, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 88, 45, 84, 53, 95, 48, 50, 48, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 132, 3, 0, 0, 10, 0, 0, 0])
    const result = parseFujifilmMakerNote(makerNote)
    expect(result).toEqual({
      FilmMode: 'Classic Chrome',
      GrainEffectRoughness: 'Off',
      GrainEffectSize: 'Off',
      ColorChromeEffect: 'Off',
      ColorChromeFxBlue: 'Strong',
      WhiteBalance: '5500K',
      Red: '-6',
      Blue: '+6',
      DynamicRange: 'DR400',
      HighlightTone: '-1',
      ShadowTone: '-1',
      Saturation: '+1',
      Sharpness: '0',
      NoiseReduction: '0',
      Clarity: '0',
    })
  })

  it('case 2', () => {
    const makerNote = Buffer.from([70, 85, 74, 73, 70, 73, 76, 77, 12, 0, 0, 0, 74, 0, 0, 0, 7, 0, 4, 0, 0, 0, 48, 49, 51, 48, 16, 0, 2, 0, 48, 0, 0, 0, 138, 3, 0, 0, 32, 0, 2, 0, 6, 0, 0, 0, 186, 3, 0, 0, 0, 16, 2, 0, 8, 0, 0, 0, 192, 3, 0, 0, 1, 16, 3, 0, 1, 0, 0, 0, 3, 0, 0, 0, 2, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 3, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 4, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 10, 16, 9, 0, 2, 0, 0, 0, 200, 3, 0, 0, 11, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 14, 16, 3, 0, 1, 0, 0, 0, 128, 2, 0, 0, 15, 16, 9, 0, 1, 0, 0, 0, 0, 0, 0, 0, 16, 16, 3, 0, 1, 0, 0, 0, 64, 152, 0, 0, 17, 16, 10, 0, 1, 0, 0, 0, 208, 3, 0, 0, 33, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 34, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 35, 16, 3, 0, 2, 0, 0, 0, 200, 8, 41, 12, 37, 16, 4, 0, 1, 0, 0, 0, 0, 0, 33, 0, 38, 16, 3, 0, 1, 0, 0, 0, 64, 0, 0, 0, 43, 16, 3, 0, 1, 0, 0, 0, 18, 0, 0, 0, 44, 16, 4, 0, 1, 0, 0, 0, 1, 0, 2, 0, 45, 16, 4, 0, 1, 0, 0, 0, 1, 1, 99, 0, 46, 16, 4, 0, 1, 0, 0, 0, 2, 1, 0, 0, 48, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 49, 16, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 50, 16, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 64, 16, 9, 0, 1, 0, 0, 0, 32, 0, 0, 0, 65, 16, 9, 0, 1, 0, 0, 0, 32, 0, 0, 0, 69, 16, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 70, 16, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 71, 16, 9, 0, 1, 0, 0, 0, 32, 0, 0, 0, 72, 16, 9, 0, 1, 0, 0, 0, 64, 0, 0, 0, 74, 16, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 76, 16, 3, 0, 1, 0, 0, 0, 16, 0, 0, 0, 77, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 78, 16, 9, 0, 1, 0, 0, 0, 0, 0, 0, 0, 80, 16, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 17, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 17, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 3, 17, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 18, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 19, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 2, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 3, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 4, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 19, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 20, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 3, 0, 1, 0, 0, 0, 0, 8, 0, 0, 2, 20, 3, 0, 1, 0, 0, 0, 1, 0, 0, 0, 3, 20, 3, 0, 1, 0, 0, 0, 100, 0, 0, 0, 4, 20, 5, 0, 1, 0, 0, 0, 216, 3, 0, 0, 5, 20, 5, 0, 1, 0, 0, 0, 224, 3, 0, 0, 6, 20, 5, 0, 1, 0, 0, 0, 232, 3, 0, 0, 7, 20, 5, 0, 1, 0, 0, 0, 240, 3, 0, 0, 8, 20, 7, 0, 4, 0, 0, 0, 48, 52, 48, 48, 9, 20, 7, 0, 4, 0, 0, 0, 48, 49, 48, 48, 10, 20, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 34, 20, 3, 0, 3, 0, 0, 0, 248, 3, 0, 0, 48, 20, 7, 0, 129, 0, 0, 0, 254, 3, 0, 0, 54, 20, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 56, 20, 3, 0, 1, 0, 0, 0, 147, 77, 0, 0, 57, 20, 2, 0, 48, 0, 0, 0, 128, 4, 0, 0, 66, 20, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 70, 20, 4, 0, 1, 0, 0, 0, 0, 0, 0, 0, 71, 20, 2, 0, 32, 0, 0, 0, 176, 4, 0, 0, 72, 20, 2, 0, 32, 0, 0, 0, 208, 4, 0, 0, 73, 20, 4, 0, 1, 0, 0, 0, 155, 0, 1, 0, 74, 20, 3, 0, 1, 0, 0, 0, 111, 2, 0, 0, 75, 20, 3, 0, 1, 0, 0, 0, 46, 1, 0, 0, 76, 20, 3, 0, 1, 0, 0, 0, 172, 1, 0, 0, 77, 20, 10, 0, 1, 0, 0, 0, 240, 4, 0, 0, 0, 65, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 66, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 70, 48, 50, 66, 55, 52, 57, 55, 54, 57, 54, 32, 32, 32, 32, 32, 53, 57, 51, 53, 51, 54, 51, 56, 51, 56, 51, 49, 50, 51, 48, 55, 49, 56, 48, 50, 57, 51, 49, 48, 49, 49, 68, 52, 49, 48, 0, 49, 54, 52, 57, 48, 0, 70, 73, 78, 69, 32, 32, 32, 0, 80, 0, 0, 0, 116, 255, 255, 255, 0, 0, 0, 0, 100, 0, 0, 0, 8, 7, 0, 0, 100, 0, 0, 0, 48, 117, 0, 0, 100, 0, 0, 0, 94, 1, 0, 0, 100, 0, 0, 0, 118, 2, 0, 0, 100, 0, 0, 0, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 88, 45, 84, 53, 95, 48, 50, 48, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 88, 45, 84, 53, 95, 48, 50, 48, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 132, 3, 0, 0, 10, 0, 0, 0])
    const result = parseFujifilmMakerNote(makerNote)
    expect(result).toEqual({
      FilmMode: 'Classic Negative',
      GrainEffectRoughness: 'Weak',
      GrainEffectSize: 'Small',
      ColorChromeEffect: 'Strong',
      ColorChromeFxBlue: 'Off',
      WhiteBalance: 'Daylight',
      Red: '+8',
      Blue: '-14',
      DynamicRange: 'DR100',
      HighlightTone: '-2',
      ShadowTone: '-2',
      Saturation: '+2',
      Sharpness: '0',
      NoiseReduction: '-1',
      Clarity: '0',
    })
  })
})
